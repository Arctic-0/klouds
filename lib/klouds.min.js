!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.klouds=r():e.klouds=r()}(window,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";r.__esModule=!0;var n=t(1),o=t(2),a=t(3);function i(e){var r=[0,0,0];return"string"==typeof e?function(e){var r=document.createElement("div");r.style.display="none",r.style.color=e,document.body.appendChild(r);var t=(getComputedStyle(r).color||"rgb(0, 0, 0)").match(/[+-]?\d+(\.\d+)?/g),n=t?t.map(function(e){return parseInt(e,10)}):[0,0,0];if(r.parentElement&&r.parentElement.removeChild(r),n.length>3)n.length=3;else if(n.length<3)return[0,0,0];return n}(e).forEach(function(e,t){r[t]=e/255}):Array.isArray(e)&&3===e.length&&e.slice(0,3).forEach(function(e,t){r[t]=e/255}),r}r.VERSION="1.1.0";var u=function(){function e(e){var r=this;this.arrays={position:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]},this.isRunning=!1,this.accumTime=0,this.lastTime=performance.now(),this.render=function(e){var t=r.gl,o=r.programInfo,a=r.bufferInfo,i=(e-r.lastTime)*r.speed*.001;r.accumTime+=i,r.lastTime=e,n.resizeCanvasToDisplaySize(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height);var u={time:r.accumTime,resolution:[t.canvas.width,t.canvas.height],bgColor:r.bgColor,cloudColor1:r.cloudColor1,cloudColor2:r.cloudColor2,layerCount:r.layerCount/10};t.useProgram(o.program),n.setBuffersAndAttributes(t,o,a),n.setUniforms(o,u),n.drawBufferInfo(t,a),r.isRunning&&requestAnimationFrame(r.render)};var t=this.queryRootElement(e.selector);if(!t)throw new Error("Invalid options.selector value passed to Klouds");var u=e.speed||1,f=e.layerCount||5,s=e.cloudColor1?i(e.cloudColor1):[.1,.7,.8],c=e.cloudColor2?i(e.cloudColor2):[1,1,1],l=e.bgColor?i(e.bgColor):[0,.4,.5];t.style.width="100%",t.style.height="100%";var p=n.getWebGLContext(t),m=n.createProgramInfo(p,[o.default,a.default]),d=n.createBufferInfoFromArrays(p,this.arrays);this.gl=p,this.programInfo=m,this.bufferInfo=d,this.setSpeed(u),this.setLayerCount(f),this.setBgColor(l),this.setCloudColor1(s),this.setCloudColor2(c),this.start()}return e.prototype.queryRootElement=function(e){if("string"==typeof e){var r=document.querySelector(e);return r?r instanceof HTMLCanvasElement?r:(console.error("options.selector element is not a <canvas> element"),null):(console.error("options.selector element not found"),null)}return e instanceof HTMLElement?e instanceof HTMLCanvasElement?e:(console.error("options.selector element is not a <canvas> element"),null):(console.error("options.selector value is invalid"),null)},e.prototype.stop=function(){this.isRunning=!1},e.prototype.start=function(){this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.render))},e.prototype.setSpeed=function(e){this.speed=Math.max(-100,Math.min(100,e))},e.prototype.setCloudColor1=function(e){var r=i(e);r&&(this.cloudColor1=r)},e.prototype.setCloudColor2=function(e){var r=i(e);r&&(this.cloudColor2=r)},e.prototype.setBgColor=function(e){var r=i(e);r&&(this.bgColor=r)},e.prototype.setLayerCount=function(e){this.layerCount=Math.max(1,Math.min(8,e))},e.prototype.getSpeed=function(){return this.speed},e.prototype.getLayerCount=function(){return this.layerCount},e.prototype.getBgColor=function(){return this.bgColor.slice()},e.prototype.getCloudColor1=function(){return this.cloudColor1.slice()},e.prototype.getCloudColor2=function(){return this.cloudColor2.slice()},e}();r.Klouds=u,r.create=function(e){return new u(e)},window&&void 0!==window.jQuery&&(window.jQuery.fn.Klouds=function(e){e=e||{};for(var r=this.get(),t=[],n=0;n<r.length;++n)e.selector=r[n],t.push(new u(e));return t})},function(e,r,t){
/*!
 * @license twgl.js 4.11.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
var n;"undefined"!=typeof self&&self,n=function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s="./src/twgl-full.js")}({"./src/attributes.js":
/*!***************************!*\
  !*** ./src/attributes.js ***!
  \***************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.createAttribsFromArrays=v,r.createBuffersFromArrays=function(e,r){var t={};Object.keys(r).forEach(function(n){t[n]=E(e,r[n],n)}),r.indices?(t.numElements=r.indices.length,t.elementType=n.getGLTypeForTypedArray(y(r.indices),"indices")):t.numElements=function(e){var r,t;for(t=0;t<b.length&&!((r=b[t])in e);++t);t===b.length&&(r=Object.keys(e)[0]);var n=e[r],o=c(n).length,a=d(n,r),i=o/a;if(o%a>0)throw new Error("numComponents ".concat(a," not correct for length ").concat(o));return i}(r);return t},r.createBufferFromArray=E,r.createBufferFromTypedArray=f,r.createBufferInfoFromArrays=function(e,r,t){var o=v(e,r),a=Object.assign({},t||{});a.attribs=Object.assign({},t?t.attribs:{},o);var u=r.indices;if(u){var s=y(u,"indices");a.indices=f(e,s,e.ELEMENT_ARRAY_BUFFER),a.numElements=s.length,a.elementType=n.getGLTypeForTypedArray(s)}else a.numElements||(a.numElements=function(e,r){var t,n;for(n=0;n<b.length&&!((t=b[n])in r)&&!((t=i.attribPrefix+t)in r);++n);n===b.length&&(t=Object.keys(r)[0]);var o=r[t];e.bindBuffer(e.ARRAY_BUFFER,o.buffer);var a=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var u=function(e,r){return r===e.BYTE?1:r===e.UNSIGNED_BYTE?1:r===e.SHORT?2:r===e.UNSIGNED_SHORT?2:r===e.INT?4:r===e.UNSIGNED_INT?4:r===e.FLOAT?4:0}(e,o.type),f=a/u,s=o.numComponents||o.size,c=f/s;if(c%1!=0)throw new Error("numComponents ".concat(s," not correct for length ").concat(length));return c}(e,a.attribs));return a},r.setAttribInfoBufferFromArray=function(e,r,t,n){t=y(t),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,t)):u(e,e.ARRAY_BUFFER,r.buffer,t,r.drawType)},r.setAttributePrefix=function(e){i.attribPrefix=e},r.setAttributeDefaults_=function(e){o.copyExistingProperties(e,i)},r.getNumComponents_=d,r.getArray_=c;var n=a(t(/*! ./typedarrays.js */"./src/typedarrays.js")),o=a(t(/*! ./helper.js */"./src/helper.js"));function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i={attribPrefix:""};function u(e,r,t,n,o){e.bindBuffer(r,t),e.bufferData(r,n,o||e.STATIC_DRAW)}function f(e,r,t,n){if(o.isBuffer(e,r))return r;t=t||e.ARRAY_BUFFER;var a=e.createBuffer();return u(e,t,a,r,n),a}function s(e){return"indices"===e}function c(e){return e.length?e:e.data}var l=/coord|texture/i,p=/color|colour/i;function m(e,r){var t;if(r%(t=l.test(e)?2:p.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(t," but ").concat(r," values is not evenly divisible by ").concat(t,". You should specify it."));return t}function d(e,r){return e.numComponents||e.size||m(r,c(e).length)}function y(e,r){if(n.isArrayBuffer(e))return e;if(n.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var t=e.type;return t||(t=s(r)?Uint16Array:Float32Array),new t(e.data)}function v(e,r){var t={};return Object.keys(r).forEach(function(o){if(!s(o)){var a=r[o],u=a.attrib||a.name||a.attribName||i.attribPrefix+o;if(a.value){if(!Array.isArray(a.value)&&!n.isArrayBuffer(a.value))throw new Error("array.value is not array or typedarray");t[u]={value:a.value}}else{var c,l,p,v;if(a.buffer&&a.buffer instanceof WebGLBuffer)c=a.buffer,v=a.numComponents||a.size,l=a.type,p=a.normalize;else if("number"==typeof a||"number"==typeof a.data){var b=a.data||a,E=a.type||Float32Array,h=b*E.BYTES_PER_ELEMENT;l=n.getGLTypeForTypedArrayType(E),p=void 0!==a.normalize?a.normalize:(_=E)===Int8Array||_===Uint8Array,v=a.numComponents||a.size||m(o,b),c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,h,a.drawType||e.STATIC_DRAW)}else{var g=y(a,o);c=f(e,g,void 0,a.drawType),l=n.getGLTypeForTypedArray(g),p=void 0!==a.normalize?a.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(g),v=d(a,o)}t[u]={buffer:c,numComponents:v,type:l,normalize:p,stride:a.stride||0,offset:a.offset||0,divisor:void 0===a.divisor?void 0:a.divisor,drawType:a.drawType}}}var _}),e.bindBuffer(e.ARRAY_BUFFER,null),t}var b=["position","positions","a_position"];function E(e,r,t){var n="indices"===t?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return f(e,y(r,t),n)}},"./src/draw.js":
/*!*********************!*\
  !*** ./src/draw.js ***!
  \*********************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.drawBufferInfo=o,r.drawObjectList=function(e,r){var t=null,a=null;r.forEach(function(r){if(!1!==r.active){var i=r.programInfo,u=r.vertexArrayInfo||r.bufferInfo,f=!1,s=void 0===r.type?e.TRIANGLES:r.type;i!==t&&(t=i,e.useProgram(i.program),f=!0),(f||u!==a)&&(a&&a.vertexArrayObject&&!u.vertexArrayObject&&e.bindVertexArray(null),a=u,n.setBuffersAndAttributes(e,i,u)),n.setUniforms(i,r.uniforms),o(e,u,s,r.count,r.offset,r.instanceCount)}}),a.vertexArrayObject&&e.bindVertexArray(null)};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t(/*! ./programs.js */"./src/programs.js"));function o(e,r,t,n,o,a){t=void 0===t?e.TRIANGLES:t;var i=r.indices,u=r.elementType,f=void 0===n?r.numElements:n;o=void 0===o?0:o,u||i?void 0!==a?e.drawElementsInstanced(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,o,a):e.drawElements(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,o):void 0!==a?e.drawArraysInstanced(t,o,f,a):e.drawArrays(t,o,f)}},"./src/framebuffers.js":
/*!*****************************!*\
  !*** ./src/framebuffers.js ***!
  \*****************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.bindFramebufferInfo=function(e,r,t){t=t||e.FRAMEBUFFER,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},r.createFramebufferInfo=function(e,r,t,a){var c=e.FRAMEBUFFER,l=e.createFramebuffer();e.bindFramebuffer(c,l),t=t||e.drawingBufferWidth,a=a||e.drawingBufferHeight;var p=0,m={framebuffer:l,attachments:[],width:t,height:a};return(r=r||u).forEach(function(r){var u=r.attachment,l=r.format,d=function(e){return f[e]}(l);if(d||(d=i+p++),!u)if(function(e){return s[e]}(l))u=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u),e.renderbufferStorage(e.RENDERBUFFER,l,t,a);else{var y=Object.assign({},r);y.width=t,y.height=a,void 0===y.auto&&(y.auto=!1,y.min=y.min||y.minMag||e.LINEAR,y.mag=y.mag||y.minMag||e.LINEAR,y.wrapS=y.wrapS||y.wrap||e.CLAMP_TO_EDGE,y.wrapT=y.wrapT||y.wrap||e.CLAMP_TO_EDGE),u=n.createTexture(e,y)}if(o.isRenderbuffer(e,u))e.framebufferRenderbuffer(c,d,e.RENDERBUFFER,u);else{if(!o.isTexture(e,u))throw new Error("unknown attachment type");void 0!==r.layer?e.framebufferTextureLayer(c,d,u,r.level||0,r.layer):e.framebufferTexture2D(c,d,r.texTarget||e.TEXTURE_2D,u,r.level||0)}m.attachments.push(u)}),m},r.resizeFramebufferInfo=function(e,r,t,a,i){a=a||e.drawingBufferWidth,i=i||e.drawingBufferHeight,r.width=a,r.height=i,(t=t||u).forEach(function(t,u){var f=r.attachments[u],s=t.format;if(o.isRenderbuffer(e,f))e.bindRenderbuffer(e.RENDERBUFFER,f),e.renderbufferStorage(e.RENDERBUFFER,s,a,i);else{if(!o.isTexture(e,f))throw new Error("unknown attachment type");n.resizeTexture(e,f,t,a,i)}})};var n=a(t(/*! ./textures.js */"./src/textures.js")),o=a(t(/*! ./helper.js */"./src/helper.js"));function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i=36064,u=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],f={};f[34041]=33306,f[6401]=36128,f[36168]=36128,f[6402]=36096,f[33189]=36096;var s={};s[32854]=!0,s[32855]=!0,s[36194]=!0,s[34041]=!0,s[33189]=!0,s[6401]=!0,s[36168]=!0},"./src/helper.js":
/*!***********************!*\
  !*** ./src/helper.js ***!
  \***********************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.copyExistingProperties=function(e,r){Object.keys(r).forEach(function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])})},r.copyNamedProperties=function(e,r,t){e.forEach(function(e){var n=r[e];void 0!==n&&(t[e]=n)})},r.isBuffer=function(e,r){return"undefined"!=typeof WebGLBuffer&&r instanceof WebGLBuffer},r.isRenderbuffer=function(e,r){return"undefined"!=typeof WebGLRenderbuffer&&r instanceof WebGLRenderbuffer},r.isShader=function(e,r){return"undefined"!=typeof WebGLShader&&r instanceof WebGLShader},r.isTexture=function(e,r){return"undefined"!=typeof WebGLTexture&&r instanceof WebGLTexture},r.isSampler=function(e,r){return"undefined"!=typeof WebGLSampler&&r instanceof WebGLSampler},r.warn=r.error=void 0;var n="undefined"!=typeof console&&console.error&&"function"==typeof console.error?console.error.bind(console):function(){};r.error=n;var o="undefined"!=typeof console&&console.warn&&"function"==typeof console.warn?console.warn.bind(console):function(){};r.warn=o},"./src/m4.js":
/*!*******************!*\
  !*** ./src/m4.js ***!
  \*******************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.axisRotate=function(e,r,t,n){n=n||new o(16);var a=r[0],i=r[1],u=r[2],f=Math.sqrt(a*a+i*i+u*u),s=(a/=f)*a,c=(i/=f)*i,l=(u/=f)*u,p=Math.cos(t),m=Math.sin(t),d=1-p,y=s+(1-s)*p,v=a*i*d+u*m,b=a*u*d-i*m,E=a*i*d-u*m,h=c+(1-c)*p,g=i*u*d+a*m,_=a*u*d+i*m,A=i*u*d-a*m,T=l+(1-l)*p,x=e[0],R=e[1],P=e[2],F=e[3],w=e[4],C=e[5],U=e[6],O=e[7],B=e[8],I=e[9],S=e[10],M=e[11];n[0]=y*x+v*w+b*B,n[1]=y*R+v*C+b*I,n[2]=y*P+v*U+b*S,n[3]=y*F+v*O+b*M,n[4]=E*x+h*w+g*B,n[5]=E*R+h*C+g*I,n[6]=E*P+h*U+g*S,n[7]=E*F+h*O+g*M,n[8]=_*x+A*w+T*B,n[9]=_*R+A*C+T*I,n[10]=_*P+A*U+T*S,n[11]=_*F+A*O+T*M,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},r.axisRotation=function(e,r,t){t=t||new o(16);var n=e[0],a=e[1],i=e[2],u=Math.sqrt(n*n+a*a+i*i),f=(n/=u)*n,s=(a/=u)*a,c=(i/=u)*i,l=Math.cos(r),p=Math.sin(r),m=1-l;return t[0]=f+(1-f)*l,t[1]=n*a*m+i*p,t[2]=n*i*m-a*p,t[3]=0,t[4]=n*a*m-i*p,t[5]=s+(1-s)*l,t[6]=a*i*m+n*p,t[7]=0,t[8]=n*i*m+a*p,t[9]=a*i*m-n*p,t[10]=c+(1-c)*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.copy=f,r.frustum=function(e,r,t,n,a,i,u){u=u||new o(16);var f=r-e,s=n-t,c=a-i;return u[0]=2*a/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*a/s,u[6]=0,u[7]=0,u[8]=(e+r)/f,u[9]=(n+t)/s,u[10]=i/c,u[11]=-1,u[12]=0,u[13]=0,u[14]=a*i/c,u[15]=0,u},r.getAxis=function(e,r,t){t=t||n.create();var o=4*r;return t[0]=e[o+0],t[1]=e[o+1],t[2]=e[o+2],t},r.getTranslation=function(e,r){return(r=r||n.create())[0]=e[12],r[1]=e[13],r[2]=e[14],r},r.identity=s,r.inverse=c,r.lookAt=function(e,r,t,f){f=f||new o(16);var s=a,c=i,l=u;return n.normalize(n.subtract(e,r,l),l),n.normalize(n.cross(t,l,s),s),n.normalize(n.cross(l,s,c),c),f[0]=s[0],f[1]=s[1],f[2]=s[2],f[3]=0,f[4]=c[0],f[5]=c[1],f[6]=c[2],f[7]=0,f[8]=l[0],f[9]=l[1],f[10]=l[2],f[11]=0,f[12]=e[0],f[13]=e[1],f[14]=e[2],f[15]=1,f},r.multiply=function(e,r,t){t=t||new o(16);var n=e[0],a=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],p=e[8],m=e[9],d=e[10],y=e[11],v=e[12],b=e[13],E=e[14],h=e[15],g=r[0],_=r[1],A=r[2],T=r[3],x=r[4],R=r[5],P=r[6],F=r[7],w=r[8],C=r[9],U=r[10],O=r[11],B=r[12],I=r[13],S=r[14],M=r[15];return t[0]=n*g+f*_+p*A+v*T,t[1]=a*g+s*_+m*A+b*T,t[2]=i*g+c*_+d*A+E*T,t[3]=u*g+l*_+y*A+h*T,t[4]=n*x+f*R+p*P+v*F,t[5]=a*x+s*R+m*P+b*F,t[6]=i*x+c*R+d*P+E*F,t[7]=u*x+l*R+y*P+h*F,t[8]=n*w+f*C+p*U+v*O,t[9]=a*w+s*C+m*U+b*O,t[10]=i*w+c*C+d*U+E*O,t[11]=u*w+l*C+y*U+h*O,t[12]=n*B+f*I+p*S+v*M,t[13]=a*B+s*I+m*S+b*M,t[14]=i*B+c*I+d*S+E*M,t[15]=u*B+l*I+y*S+h*M,t},r.negate=function(e,r){return(r=r||new o(16))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r[9]=-e[9],r[10]=-e[10],r[11]=-e[11],r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=-e[15],r},r.ortho=function(e,r,t,n,a,i,u){return(u=u||new o(16))[0]=2/(r-e),u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2/(n-t),u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2/(a-i),u[11]=0,u[12]=(r+e)/(e-r),u[13]=(n+t)/(t-n),u[14]=(i+a)/(a-i),u[15]=1,u},r.perspective=function(e,r,t,n,a){a=a||new o(16);var i=Math.tan(.5*Math.PI-.5*e),u=1/(t-n);return a[0]=i/r,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(t+n)*u,a[11]=-1,a[12]=0,a[13]=0,a[14]=t*n*u*2,a[15]=0,a},r.rotateX=function(e,r,t){t=t||new o(16);var n=e[4],a=e[5],i=e[6],u=e[7],f=e[8],s=e[9],c=e[10],l=e[11],p=Math.cos(r),m=Math.sin(r);t[4]=p*n+m*f,t[5]=p*a+m*s,t[6]=p*i+m*c,t[7]=p*u+m*l,t[8]=p*f-m*n,t[9]=p*s-m*a,t[10]=p*c-m*i,t[11]=p*l-m*u,e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateY=function(e,r,t){t=t||new o(16);var n=e[0],a=e[1],i=e[2],u=e[3],f=e[8],s=e[9],c=e[10],l=e[11],p=Math.cos(r),m=Math.sin(r);t[0]=p*n-m*f,t[1]=p*a-m*s,t[2]=p*i-m*c,t[3]=p*u-m*l,t[8]=p*f+m*n,t[9]=p*s+m*a,t[10]=p*c+m*i,t[11]=p*l+m*u,e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateZ=function(e,r,t){t=t||new o(16);var n=e[0],a=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],p=Math.cos(r),m=Math.sin(r);t[0]=p*n+m*f,t[1]=p*a+m*s,t[2]=p*i+m*c,t[3]=p*u+m*l,t[4]=p*f-m*n,t[5]=p*s-m*a,t[6]=p*c-m*i,t[7]=p*l-m*u,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotationX=function(e,r){r=r||new o(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationY=function(e,r){r=r||new o(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationZ=function(e,r){r=r||new o(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.scale=function(e,r,t){t=t||new o(16);var n=r[0],a=r[1],i=r[2];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=n*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=a*e[6],t[7]=a*e[7],t[8]=i*e[8],t[9]=i*e[9],t[10]=i*e[10],t[11]=i*e[11],e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.scaling=function(e,r){return(r=r||new o(16))[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.setAxis=function(e,r,t,n){n!==e&&(n=f(e,n));var o=4*t;return n[o+0]=r[0],n[o+1]=r[1],n[o+2]=r[2],n},r.setDefaultType=function(e){var r=o;return o=e,r},r.setTranslation=function(e,r,t){t=t||s(),e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]);return t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},r.transformDirection=function(e,r,t){t=t||n.create();var o=r[0],a=r[1],i=r[2];return t[0]=o*e[0]+a*e[4]+i*e[8],t[1]=o*e[1]+a*e[5]+i*e[9],t[2]=o*e[2]+a*e[6]+i*e[10],t},r.transformNormal=function(e,r,t){t=t||n.create();var o=c(e),a=r[0],i=r[1],u=r[2];return t[0]=a*o[0]+i*o[1]+u*o[2],t[1]=a*o[4]+i*o[5]+u*o[6],t[2]=a*o[8]+i*o[9]+u*o[10],t},r.transformPoint=function(e,r,t){t=t||n.create();var o=r[0],a=r[1],i=r[2],u=o*e[3]+a*e[7]+i*e[11]+e[15];return t[0]=(o*e[0]+a*e[4]+i*e[8]+e[12])/u,t[1]=(o*e[1]+a*e[5]+i*e[9]+e[13])/u,t[2]=(o*e[2]+a*e[6]+i*e[10]+e[14])/u,t},r.translate=function(e,r,t){t=t||new o(16);var n=r[0],a=r[1],i=r[2],u=e[0],f=e[1],s=e[2],c=e[3],l=e[4],p=e[5],m=e[6],d=e[7],y=e[8],v=e[9],b=e[10],E=e[11],h=e[12],g=e[13],_=e[14],A=e[15];e!==t&&(t[0]=u,t[1]=f,t[2]=s,t[3]=c,t[4]=l,t[5]=p,t[6]=m,t[7]=d,t[8]=y,t[9]=v,t[10]=b,t[11]=E);return t[12]=u*n+l*a+y*i+h,t[13]=f*n+p*a+v*i+g,t[14]=s*n+m*a+b*i+_,t[15]=c*n+d*a+E*i+A,t},r.translation=function(e,r){return(r=r||new o(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},r.transpose=function(e,r){if((r=r||new o(16))===e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,r}var n=e[0],a=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],p=e[8],m=e[9],d=e[10],y=e[11],v=e[12],b=e[13],E=e[14],h=e[15];return r[0]=n,r[1]=f,r[2]=p,r[3]=v,r[4]=a,r[5]=s,r[6]=m,r[7]=b,r[8]=i,r[9]=c,r[10]=d,r[11]=E,r[12]=u,r[13]=l,r[14]=y,r[15]=h,r};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t(/*! ./v3.js */"./src/v3.js"));var o=Float32Array,a=n.create(),i=n.create(),u=n.create();function f(e,r){return(r=r||new o(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function s(e){return(e=e||new o(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,r){r=r||new o(16);var t=e[0],n=e[1],a=e[2],i=e[3],u=e[4],f=e[5],s=e[6],c=e[7],l=e[8],p=e[9],m=e[10],d=e[11],y=e[12],v=e[13],b=e[14],E=e[15],h=m*E,g=b*d,_=s*E,A=b*c,T=s*d,x=m*c,R=a*E,P=b*i,F=a*d,w=m*i,C=a*c,U=s*i,O=l*v,B=y*p,I=u*v,S=y*f,M=u*p,j=l*f,D=t*v,L=y*n,N=t*p,k=l*n,X=t*f,G=u*n,z=h*f+A*p+T*v-(g*f+_*p+x*v),V=g*n+R*p+w*v-(h*n+P*p+F*v),Y=_*n+P*f+C*v-(A*n+R*f+U*v),W=x*n+F*f+U*p-(T*n+w*f+C*p),K=1/(t*z+u*V+l*Y+y*W);return r[0]=K*z,r[1]=K*V,r[2]=K*Y,r[3]=K*W,r[4]=K*(g*u+_*l+x*y-(h*u+A*l+T*y)),r[5]=K*(h*t+P*l+F*y-(g*t+R*l+w*y)),r[6]=K*(A*t+R*u+U*y-(_*t+P*u+C*y)),r[7]=K*(T*t+w*u+C*l-(x*t+F*u+U*l)),r[8]=K*(O*c+S*d+M*E-(B*c+I*d+j*E)),r[9]=K*(B*i+D*d+k*E-(O*i+L*d+N*E)),r[10]=K*(I*i+L*c+X*E-(S*i+D*c+G*E)),r[11]=K*(j*i+N*c+G*d-(M*i+k*c+X*d)),r[12]=K*(I*m+j*b+B*s-(M*b+O*s+S*m)),r[13]=K*(N*b+O*a+L*m-(D*m+k*b+B*a)),r[14]=K*(D*s+G*b+S*a-(X*b+I*a+L*s)),r[15]=K*(X*m+M*a+k*s-(N*s+G*m+j*a)),r}},"./src/primitives.js":
/*!***************************!*\
  !*** ./src/primitives.js ***!
  \***************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.create3DFVertices=F,r.createAugmentedTypedArray=p,r.createCubeVertices=x,r.createPlaneVertices=_,r.createSphereVertices=A,r.createTruncatedConeVertices=R,r.createXYQuadVertices=g,r.createCresentVertices=w,r.createCylinderVertices=C,r.createTorusVertices=U,r.createDiscVertices=O,r.deindexVertices=function(e){var r=e.indices,t={},n=r.length;return Object.keys(e).filter(m).forEach(function(o){for(var a=e[o],i=a.numComponents,u=p(i,n,a.constructor),f=0;f<n;++f)for(var s=r[f],c=s*i,l=0;l<i;++l)u.push(a[c+l]);t[o]=u}),t},r.flattenNormals=function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var r=e.normal,t=r.length,n=0;n<t;n+=9){var o=r[n+0],a=r[n+1],i=r[n+2],u=r[n+3],f=r[n+4],s=r[n+5],c=r[n+6],l=r[n+7],p=r[n+8],m=o+u+c,d=a+f+l,y=i+s+p,v=Math.sqrt(m*m+d*d+y*y);m/=v,d/=v,y/=v,r[n+0]=m,r[n+1]=d,r[n+2]=y,r[n+3]=m,r[n+4]=d,r[n+5]=y,r[n+6]=m,r[n+7]=d,r[n+8]=y}return e},r.makeRandomVertexColors=function(e,r){r=r||{};var t=e.position.numElements,n=p(4,t,Uint8Array),o=r.rand||function(e,r){return r<3?(t=256,Math.random()*t|0):255;var t};if(e.color=n,e.indices)for(var a=0;a<t;++a)n.push(o(a,0),o(a,1),o(a,2),o(a,3));else for(var i=r.vertsPerColor||3,u=t/i,f=0;f<u;++f)for(var s=[o(f,0),o(f,1),o(f,2),o(f,3)],c=0;c<i;++c)n.push(s);return e},r.reorientDirections=v,r.reorientNormals=b,r.reorientPositions=E,r.reorientVertices=h,r.concatVertices=function(e){for(var r,t={},n=function(n){var o=e[n];Object.keys(o).forEach(function(e){t[e]||(t[e]=[]),r||"indices"===e||(r=e);var n=o[e],a=c(n,e),i=s(n),u=i.length/a;t[e].push(u)})},o=0;o<e.length;++o)n(o);var a=t[r],i={};return Object.keys(t).forEach(function(r){var t=function(r){for(var t,n=0,o=0;o<e.length;++o){var a=e[o],i=a[r],u=s(i);n+=u.length,t&&!i.data||(t=i)}return{length:n,spec:t}}(r),n=j(t.spec,t.length);!function(r,t,n){for(var o=0,a=0,i=0;i<e.length;++i){var u=e[i],f=u[r],c=s(f);"indices"===r?(M(c,n,a,o),o+=t[i]):M(c,n,a),a+=c.length}}(r,a,s(n)),i[r]=n}),i},r.duplicateVertices=function(e){var r={};return Object.keys(e).forEach(function(t){var n=e[t],o=s(n),a=j(n,o.length);M(o,s(a),0),r[t]=a}),r},r.createDiscBuffers=r.createDiscBufferInfo=r.createTorusBuffers=r.createTorusBufferInfo=r.createCylinderBuffers=r.createCylinderBufferInfo=r.createCresentBuffers=r.createCresentBufferInfo=r.createXYQuadBuffers=r.createXYQuadBufferInfo=r.createTruncatedConeBuffers=r.createTruncatedConeBufferInfo=r.createSphereBuffers=r.createSphereBufferInfo=r.createPlaneBuffers=r.createPlaneBufferInfo=r.createCubeBuffers=r.createCubeBufferInfo=r.create3DFBuffers=r.create3DFBufferInfo=void 0;var n=f(t(/*! ./attributes.js */"./src/attributes.js")),o=f(t(/*! ./helper.js */"./src/helper.js")),a=f(t(/*! ./typedarrays.js */"./src/typedarrays.js")),i=f(t(/*! ./m4.js */"./src/m4.js")),u=f(t(/*! ./v3.js */"./src/v3.js"));function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var s=n.getArray_,c=n.getNumComponents_;function l(e,r){var t=0;return e.push=function(){for(var r=0;r<arguments.length;++r){var n=arguments[r];if(n instanceof Array||a.isArrayBuffer(n))for(var o=0;o<n.length;++o)e[t++]=n[o];else e[t++]=n}},e.reset=function(e){t=e||0},e.numComponents=r,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function p(e,r,t){return l(new(t||Float32Array)(e*r),e)}function m(e){return"indices"!==e}function d(e,r,t){for(var n=e.length,o=new Float32Array(3),a=0;a<n;a+=3)t(r,[e[a],e[a+1],e[a+2]],o),e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2]}function y(e,r,t){t=t||u.create();var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[1]+a*e[2],t[1]=n*e[4]+o*e[5]+a*e[6],t[2]=n*e[8]+o*e[9]+a*e[10],t}function v(e,r){return d(e,r,i.transformDirection),e}function b(e,r){return d(e,i.inverse(r),y),e}function E(e,r){return d(e,r,i.transformPoint),e}function h(e,r){return Object.keys(e).forEach(function(t){var n=e[t];t.indexOf("pos")>=0?E(n,r):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?v(n,r):t.indexOf("norm")>=0&&b(n,r)}),e}function g(e,r,t){return e=e||2,{position:{numComponents:2,data:[(r=r||0)+-1*(e*=.5),(t=t||0)+-1*e,r+1*e,t+-1*e,r+-1*e,t+1*e,r+1*e,t+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function _(e,r,t,n,o){e=e||1,r=r||1,t=t||1,n=n||1,o=o||i.identity();for(var a=(t+1)*(n+1),u=p(3,a),f=p(3,a),s=p(2,a),c=0;c<=n;c++)for(var l=0;l<=t;l++){var m=l/t,d=c/n;u.push(e*m-.5*e,0,r*d-.5*r),f.push(0,1,0),s.push(m,d)}for(var y=t+1,v=p(3,t*n*2,Uint16Array),b=0;b<n;b++)for(var E=0;E<t;E++)v.push((b+0)*y+E,(b+1)*y+E,(b+0)*y+E+1),v.push((b+1)*y+E,(b+1)*y+E+1,(b+0)*y+E+1);return h({position:u,normal:f,texcoord:s,indices:v},o)}function A(e,r,t,n,o,a,i){if(r<=0||t<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,a=a||0;for(var u=(o=o||Math.PI)-n,f=(i=i||2*Math.PI)-a,s=(r+1)*(t+1),c=p(3,s),l=p(3,s),m=p(2,s),d=0;d<=t;d++)for(var y=0;y<=r;y++){var v=y/r,b=d/t,E=f*v+a,h=u*b+n,g=Math.sin(E),_=Math.cos(E),A=Math.sin(h),T=_*A,x=Math.cos(h),R=g*A;c.push(e*T,e*x,e*R),l.push(T,x,R),m.push(1-v,b)}for(var P=r+1,F=p(3,r*t*2,Uint16Array),w=0;w<r;w++)for(var C=0;C<t;C++)F.push((C+0)*P+w,(C+0)*P+w+1,(C+1)*P+w),F.push((C+1)*P+w,(C+0)*P+w+1,(C+1)*P+w+1);return{position:c,normal:l,texcoord:m,indices:F}}var T=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function x(e){for(var r=(e=e||1)/2,t=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],a=p(3,24),i=p(3,24),u=p(2,24),f=p(3,12,Uint16Array),s=0;s<6;++s){for(var c=T[s],l=0;l<4;++l){var m=t[c[l]],d=n[s],y=o[l];a.push(m),i.push(d),u.push(y)}var v=4*s;f.push(v+0,v+1,v+2),f.push(v+0,v+2,v+3)}return{position:a,normal:i,texcoord:u,indices:f}}function R(e,r,t,n,o,a,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===a||a,f=void 0===i||i,s=(u?2:0)+(f?2:0),c=(n+1)*(o+1+s),l=p(3,c),m=p(3,c),d=p(2,c),y=p(3,n*(o+s)*2,Uint16Array),v=n+1,b=Math.atan2(e-r,t),E=Math.cos(b),h=Math.sin(b),g=o+(f?2:0),_=u?-2:0;_<=g;++_){var A=_/o,T=t*A,x=void 0;_<0?(T=0,A=1,x=e):_>o?(T=t,A=1,x=r):x=e+_/o*(r-e),-2!==_&&_!==o+2||(x=0,A=0),T-=t/2;for(var R=0;R<v;++R){var P=Math.sin(R*Math.PI*2/n),F=Math.cos(R*Math.PI*2/n);l.push(P*x,T,F*x),m.push(_<0||_>o?0:P*E,_<0?-1:_>o?1:h,_<0||_>o?0:F*E),d.push(R/n,1-A)}}for(var w=0;w<o+s;++w)for(var C=0;C<n;++C)y.push(v*(w+0)+0+C,v*(w+0)+1+C,v*(w+1)+1+C),y.push(v*(w+0)+0+C,v*(w+1)+1+C,v*(w+1)+0+C);return{position:l,normal:m,texcoord:d,indices:y}}function P(e,r){r=r||[];for(var t=[],n=0;n<e.length;n+=4){var o=e[n],a=e.slice(n+1,n+4);a.push.apply(a,r);for(var i=0;i<o;++i)t.push.apply(t,a)}return t}function F(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=P([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=P([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:p(3,n),texcoord:p(2,n),normal:p(3,n),color:p(4,n,Uint8Array),indices:p(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(r),o.color.push(t);for(var a=0;a<n;++a)o.indices.push(a);return o}function w(e,r,t,n,o,a,i){if(o<=0)throw new Error("subdivisionDown must be > 0");var f=2,s=(i=i||1)-(a=a||0),c=2*(o+1)*(2+f),l=p(3,c),m=p(3,c),d=p(2,c);function y(e,r,t){return e+(r-e)*t}function v(r,t,i,c,p,v){for(var b=0;b<=o;b++){var E=t/(f-1),h=b/o,g=2*(E-.5),_=(a+h*s)*Math.PI,A=Math.sin(_),T=Math.cos(_),x=y(e,r,A),R=g*n,P=T*e,F=A*x;l.push(R,P,F);var w=u.add(u.multiply([0,A,T],i),c);m.push(w),d.push(E*p+v,h)}}for(var b=0;b<f;b++){var E=2*(b/(f-1)-.5);v(r,b,[1,1,1],[0,0,0],1,0),v(r,b,[0,0,0],[E,0,0],0,0),v(t,b,[1,1,1],[0,0,0],1,0),v(t,b,[0,0,0],[E,0,0],0,1)}var h=p(3,2*o*(2+f),Uint16Array);function g(e,r){for(var t=0;t<o;++t)h.push(e+t+0,e+t+1,r+t+0),h.push(e+t+1,r+t+1,r+t+0)}var _=o+1;return g(0*_,4*_),g(5*_,7*_),g(6*_,2*_),g(3*_,1*_),{position:l,normal:m,texcoord:d,indices:h}}function C(e,r,t,n,o,a){return R(e,e,r,t,n,o,a)}function U(e,r,t,n,o,a){if(t<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var i=(a=a||2*Math.PI)-o,u=t+1,f=n+1,s=u*f,c=p(3,s),l=p(3,s),m=p(2,s),d=p(3,t*n*2,Uint16Array),y=0;y<f;++y)for(var v=y/n,b=v*Math.PI*2,E=Math.sin(b),h=e+E*r,g=Math.cos(b),_=g*r,A=0;A<u;++A){var T=A/t,x=o+T*i,R=Math.sin(x),P=Math.cos(x),F=R*h,w=P*h,C=R*E,U=P*E;c.push(F,_,w),l.push(C,g,U),m.push(T,1-v)}for(var O=0;O<n;++O)for(var B=0;B<t;++B){var I=1+B,S=1+O;d.push(u*O+B,u*S+B,u*O+I),d.push(u*S+B,u*S+I,u*O+I)}return{position:c,normal:l,texcoord:m,indices:d}}function O(e,r,t,n,o){if(r<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;for(var a=(r+1)*((t=t||1)+1),i=p(3,a),u=p(3,a),f=p(2,a),s=p(3,t*r*2,Uint16Array),c=0,l=e-n,m=r+1,d=0;d<=t;++d){for(var y=n+l*Math.pow(d/t,o),v=0;v<=r;++v){var b=2*Math.PI*v/r,E=y*Math.cos(b),h=y*Math.sin(b);if(i.push(E,0,h),u.push(0,1,0),f.push(1-v/r,d/t),d>0&&v!==r){var g=c+(v+1),_=c+v,A=c+v-m,T=c+(v+1)-m;s.push(g,_,A),s.push(g,A,T)}}c+=r+1}return{position:i,normal:u,texcoord:f,indices:s}}function B(e){return function(r){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(r,t)}}function I(e){return function(r){var t=e.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(r,t)}}var S=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function M(e,r,t,n){n=n||0;for(var o=e.length,a=0;a<o;++a)r[t+a]=e[a]+n}function j(e,r){var t=s(e),n=new t.constructor(r),a=n;return t.numComponents&&t.numElements&&l(n,t.numComponents),e.data&&(a={data:n},o.copyNamedProperties(S,e,a)),a}var D=I(F);r.create3DFBufferInfo=D;var L=B(F);r.create3DFBuffers=L;var N=I(x);r.createCubeBufferInfo=N;var k=B(x);r.createCubeBuffers=k;var X=I(_);r.createPlaneBufferInfo=X;var G=B(_);r.createPlaneBuffers=G;var z=I(A);r.createSphereBufferInfo=z;var V=B(A);r.createSphereBuffers=V;var Y=I(R);r.createTruncatedConeBufferInfo=Y;var W=B(R);r.createTruncatedConeBuffers=W;var K=I(g);r.createXYQuadBufferInfo=K;var H=B(g);r.createXYQuadBuffers=H;var Q=I(w);r.createCresentBufferInfo=Q;var q=B(w);r.createCresentBuffers=q;var Z=I(C);r.createCylinderBufferInfo=Z;var $=B(C);r.createCylinderBuffers=$;var J=I(U);r.createTorusBufferInfo=J;var ee=B(U);r.createTorusBuffers=ee;var re=I(O);r.createDiscBufferInfo=re;var te=B(O);r.createDiscBuffers=te},"./src/programs.js":
/*!*************************!*\
  !*** ./src/programs.js ***!
  \*************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.createAttributeSetters=k,r.createProgram=C,r.createProgramFromScripts=function(e,r,t,n,o){for(var a=R(t,n,o),i=[],u=0;u<r.length;++u){var f=U(e,r[u],e[P[u]],a.errorCallback);if(!f)return null;i.push(f)}return C(e,i,a)},r.createProgramFromSources=O,r.createProgramInfo=function(e,r,t,n,o){var a=R(t,n,o),i=!0;if(r=r.map(function(e){if(e.indexOf("\n")<0){var r=f(e);r?e=r.text:(a.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var u=O(e,r,a);if(!u)return null;return G(e,u)},r.createProgramInfoFromProgram=G,r.createUniformSetters=I,r.createUniformBlockSpecFromProgram=j,r.createUniformBlockInfoFromProgram=L,r.createUniformBlockInfo=function(e,r,t){return L(e,r.program,r.uniformBlockSpec,t)},r.createTransformFeedback=function(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(r.program),M(e,r,t),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),n},r.createTransformFeedbackInfo=S,r.bindTransformFeedbackInfo=M,r.setAttributes=X,r.setBuffersAndAttributes=function(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(X(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices))},r.setUniforms=function e(r,t){var n=r.uniformSetters||r;var o=arguments.length;for(var a=1;a<o;++a){var i=arguments[a];if(Array.isArray(i))for(var u=i.length,f=0;f<u;++f)e(n,i[f]);else for(var s in i){var c=n[s];c&&c(i[s])}}},r.setUniformBlock=function(e,r,t){N(e,r,t)&&e.bufferData(e.UNIFORM_BUFFER,t.array,e.DYNAMIC_DRAW)},r.setBlockUniforms=function(e,r){var t=e.uniforms;for(var n in r){var o=t[n];if(o){var a=r[n];a.length?o.set(a):o[0]=a}}},r.bindUniformBlock=N;var n=a(t(/*! ./utils.js */"./src/utils.js")),o=a(t(/*! ./helper.js */"./src/helper.js"));function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i=o.error,u=o.warn,f="undefined"!=typeof document&&document.getElementById?document.getElementById.bind(document):function(){return null},s={};function c(e,r){return s[r].bindPoint}function l(e,r){return function(t){e.uniform1i(r,t)}}function p(e,r){return function(t){e.uniform1iv(r,t)}}function m(e,r){return function(t){e.uniform2iv(r,t)}}function d(e,r){return function(t){e.uniform3iv(r,t)}}function y(e,r){return function(t){e.uniform4iv(r,t)}}function v(e,r,t,a){var i=c(0,r);return n.isWebGL2(e)?function(r){var n,u;o.isTexture(e,r)?(n=r,u=null):(n=r.texture,u=r.sampler),e.uniform1i(a,t),e.activeTexture(e.TEXTURE0+t),e.bindTexture(i,n),e.bindSampler(t,u)}:function(r){e.uniform1i(a,t),e.activeTexture(e.TEXTURE0+t),e.bindTexture(i,r)}}function b(e,r,t,a,i){for(var u=c(0,r),f=new Int32Array(i),s=0;s<i;++s)f[s]=t+s;return n.isWebGL2(e)?function(r){e.uniform1iv(a,f),r.forEach(function(r,n){var a,i;e.activeTexture(e.TEXTURE0+f[n]),o.isTexture(e,r)?(a=r,i=null):(a=r.texture,i=r.sampler),e.bindSampler(t,i),e.bindTexture(u,a)})}:function(r){e.uniform1iv(a,f),r.forEach(function(r,t){e.activeTexture(e.TEXTURE0+f[t]),e.bindTexture(u,r)})}}function E(e,r){return function(t){if(t.value)switch(e.disableVertexAttribArray(r),t.value.length){case 4:e.vertexAttrib4fv(r,t.value);break;case 3:e.vertexAttrib3fv(r,t.value);break;case 2:e.vertexAttrib2fv(r,t.value);break;case 1:e.vertexAttrib1fv(r,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||e.FLOAT,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function h(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(r,t.value)}else e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.INT,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function g(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(r,t.value)}else e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.UNSIGNED_INT,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function _(e,r,t){var n=t.size,o=t.count;return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer);for(var a=t.size||t.numComponents||n,i=a/o,u=t.type||e.FLOAT,f=s[u].size*a,c=t.normalize||!1,l=t.offset||0,p=f/o,m=0;m<o;++m)e.enableVertexAttribArray(r+m),e.vertexAttribPointer(r+m,i,u,c,f,l+p*m),void 0!==t.divisor&&e.vertexAttribDivisor(r+m,t.divisor)}}s[5126]={Type:Float32Array,size:4,setter:function(e,r){return function(t){e.uniform1f(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1fv(r,t)}}},s[35664]={Type:Float32Array,size:8,setter:function(e,r){return function(t){e.uniform2fv(r,t)}}},s[35665]={Type:Float32Array,size:12,setter:function(e,r){return function(t){e.uniform3fv(r,t)}}},s[35666]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniform4fv(r,t)}}},s[5124]={Type:Int32Array,size:4,setter:l,arraySetter:p},s[35667]={Type:Int32Array,size:8,setter:m},s[35668]={Type:Int32Array,size:12,setter:d},s[35669]={Type:Int32Array,size:16,setter:y},s[5125]={Type:Uint32Array,size:4,setter:function(e,r){return function(t){e.uniform1ui(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1uiv(r,t)}}},s[36294]={Type:Uint32Array,size:8,setter:function(e,r){return function(t){e.uniform2uiv(r,t)}}},s[36295]={Type:Uint32Array,size:12,setter:function(e,r){return function(t){e.uniform3uiv(r,t)}}},s[36296]={Type:Uint32Array,size:16,setter:function(e,r){return function(t){e.uniform4uiv(r,t)}}},s[35670]={Type:Uint32Array,size:4,setter:l,arraySetter:p},s[35671]={Type:Uint32Array,size:8,setter:m},s[35672]={Type:Uint32Array,size:12,setter:d},s[35673]={Type:Uint32Array,size:16,setter:y},s[35674]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}}},s[35675]={Type:Float32Array,size:36,setter:function(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}}},s[35676]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}}},s[35685]={Type:Float32Array,size:24,setter:function(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}}},s[35686]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}}},s[35687]={Type:Float32Array,size:24,setter:function(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}}},s[35688]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}}},s[35689]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}}},s[35690]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}}},s[35678]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:3553},s[35680]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:34067},s[35679]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:32879},s[35682]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:3553},s[36289]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:35866},s[36292]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:35866},s[36293]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:34067},s[36298]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:3553},s[36299]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:32879},s[36300]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:34067},s[36303]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:35866},s[36306]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:3553},s[36307]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:32879},s[36308]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:34067},s[36311]={Type:null,size:0,setter:v,arraySetter:b,bindPoint:35866};var A={};A[5126]={size:4,setter:E},A[35664]={size:8,setter:E},A[35665]={size:12,setter:E},A[35666]={size:16,setter:E},A[5124]={size:4,setter:h},A[35667]={size:8,setter:h},A[35668]={size:12,setter:h},A[35669]={size:16,setter:h},A[5125]={size:4,setter:g},A[36294]={size:8,setter:g},A[36295]={size:12,setter:g},A[36296]={size:16,setter:g},A[35670]={size:4,setter:h},A[35671]={size:8,setter:h},A[35672]={size:12,setter:h},A[35673]={size:16,setter:h},A[35674]={size:4,setter:_,count:2},A[35675]={size:9,setter:_,count:3},A[35676]={size:16,setter:_,count:4};var T=/^[ \t]*\n/;function x(e,r,t,n){var o=n||i,a=e.createShader(t),u=0;if(T.test(r)&&(u=1,r=r.replace(T,"")),e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var f=e.getShaderInfoLog(a);return o(function(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}(r,u)+"\n*** Error compiling shader: "+f),e.deleteShader(a),null}return a}function R(e,r,t){var n;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var o=e;t=o.errorCallback,e=o.attribLocations,n=o.transformFeedbackVaryings}var a={errorCallback:t||i,transformFeedbackVaryings:n};if(e){var u={};Array.isArray(e)?e.forEach(function(e,t){u[e]=r?r[t]:t}):u=e,a.attribLocations=u}return a}var P=["VERTEX_SHADER","FRAGMENT_SHADER"];function F(e,r){return r.indexOf("frag")>=0?e.FRAGMENT_SHADER:r.indexOf("vert")>=0?e.VERTEX_SHADER:void 0}function w(e,r){r.forEach(function(r){e.deleteShader(r)})}function C(e,r,t,n,a){for(var i=R(t,n,a),u=[],s=[],c=0;c<r.length;++c){var l=r[c];if("string"==typeof l){var p=f(l),m=p?p.text:l,d=e[P[c]];p&&p.type&&(d=F(e,p.type)||d),l=x(e,m,d,i.errorCallback),s.push(l)}o.isShader(e,l)&&u.push(l)}if(u.length!==r.length)return i.errorCallback("not enough shaders for program"),w(e,s),null;var y=e.createProgram();u.forEach(function(r){e.attachShader(y,r)}),i.attribLocations&&Object.keys(i.attribLocations).forEach(function(r){e.bindAttribLocation(y,i.attribLocations[r],r)});var v=i.transformFeedbackVaryings;if(v&&(v.attribs&&(v=v.attribs),Array.isArray(v)||(v=Object.keys(v)),e.transformFeedbackVaryings(y,v,i.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(y),!e.getProgramParameter(y,e.LINK_STATUS)){var b=e.getProgramInfoLog(y);return i.errorCallback("Error in program linking:"+b),e.deleteProgram(y),w(e,s),null}return y}function U(e,r,t,n){var o,a=f(r);if(!a)throw new Error("unknown script element: ".concat(r));o=a.text;var i=t||F(e,a.type);if(!i)throw new Error("unknown shader type");return x(e,o,i,n)}function O(e,r,t,n,o){for(var a=R(t,n,o),i=[],u=0;u<r.length;++u){var f=x(e,r[u],e[P[u]],a.errorCallback);if(!f)return null;i.push(f)}return C(e,i,a)}function B(e){var r=e.name;return r.startsWith("gl_")||r.startsWith("webgl_")}function I(e,r){var t=0;function n(r,n){var o,a=e.getUniformLocation(r,n.name),i=n.size>1&&"[0]"===n.name.substr(-3),u=n.type,f=s[u];if(!f)throw new Error("unknown type: 0x".concat(u.toString(16)));if(f.bindPoint){var c=t;t+=n.size,o=i?f.arraySetter(e,u,c,a,n.size):f.setter(e,u,c,a,n.size)}else o=f.arraySetter&&i?f.arraySetter(e,a):f.setter(e,a);return o.location=a,o}for(var o={},a=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<a;++i){var u=e.getActiveUniform(r,i);if(!B(u)){var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var c=n(r,u);o[f]=c}}return o}function S(e,r){for(var t={},n=e.getProgramParameter(r,e.TRANSFORM_FEEDBACK_VARYINGS),o=0;o<n;++o){var a=e.getTransformFeedbackVarying(r,o);t[a.name]={index:o,type:a.type,size:a.size}}return t}function M(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var o=r[n];if(o){var a=t[n];a.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,o.index,a.buffer,a.offset,a.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,o.index,a.buffer)}}}function j(e,r){for(var t=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),n=[],o=[],a=0;a<t;++a){o.push(a),n.push({});var i=e.getActiveUniform(r,a);if(B(i))break;n[a].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var a=t[0],i=t[1];e.getActiveUniforms(r,o,e[a]).forEach(function(e,r){n[r][i]=e})});for(var u={},f=e.getProgramParameter(r,e.ACTIVE_UNIFORM_BLOCKS),s=0;s<f;++s){var c=e.getActiveUniformBlockName(r,s),l={index:s,usedByVertexShader:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};l.used=l.usedByVertexSahder||l.usedByFragmentShader,u[c]=l}return{blockSpecs:u,uniformData:n}}var D=/\[\d+\]\.$/;function L(e,r,t,n){var o=t.blockSpecs,a=t.uniformData,i=o[n];if(!i)return u("no uniform block object named:",n),{name:n,uniforms:{}};var f=new ArrayBuffer(i.size),c=e.createBuffer(),l=i.index;e.bindBuffer(e.UNIFORM_BUFFER,c),e.uniformBlockBinding(r,i.index,l);var p=n+".";D.test(p)&&(p=p.replace(D,"."));var m={};return i.uniformIndices.forEach(function(e){var r=a[e],t=s[r.type],n=t.Type,o=r.size*t.size,i=r.name;i.substr(0,p.length)===p&&(i=i.substr(p.length)),m[i]=new n(f,r.offset,o/n.BYTES_PER_ELEMENT)}),{name:n,array:f,asFloat:new Float32Array(f),buffer:c,uniforms:m}}function N(e,r,t){var n=(r.uniformBlockSpec||r).blockSpecs[t.name];if(n){var o=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,o,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function k(e,r){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),o=0;o<n;++o){var a=e.getActiveAttrib(r,o);if(!B(a)){var i=e.getAttribLocation(r,a.name),u=A[a.type],f=u.setter(e,i,u);f.location=i,t[a.name]=f}}return t}function X(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function G(e,r){var t={program:r,uniformSetters:I(e,r),attribSetters:k(e,r)};return n.isWebGL2(e)&&(t.uniformBlockSpec=j(e,r),t.transformFeedbackInfo=S(e,r)),t}},"./src/textures.js":
/*!*************************!*\
  !*** ./src/textures.js ***!
  \*************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.setTextureDefaults_=function(e){a.copyExistingProperties(e,u),e.textureColor&&T(e.textureColor)},r.createSampler=B,r.createSamplers=function(e,r){var t={};return Object.keys(r).forEach(function(n){t[n]=B(e,r[n])}),t},r.setSamplerParameters=O,r.createTexture=H,r.setEmptyTexture=K,r.setTextureFromArray=W,r.loadTextureFromUrl=z,r.setTextureFromElement=D,r.setTextureFilteringForSize=I,r.setTextureParameters=U,r.setDefaultTextureColor=T,r.createTextures=function(e,r,t){t=t||L;var n=0,o=[],a={},i={};function u(){0===n&&setTimeout(function(){t(o.length?o:void 0,a,i)},0)}return Object.keys(r).forEach(function(t){var f,s,c=r[t];("string"==typeof(s=c.src)||Array.isArray(s)&&"string"==typeof s[0])&&(f=function(e,r,a){i[t]=a,--n,e&&o.push(e),u()},++n),a[t]=H(e,c,f)}),u(),a},r.resizeTexture=function(e,r,t,n,o){n=n||t.width,o=o||t.height;var a=t.target||e.TEXTURE_2D;e.bindTexture(a,r);var i,u=t.level||0,s=t.internalFormat||t.format||e.RGBA,c=b(s),l=t.format||c.format,p=t.src;i=p&&(f(p)||Array.isArray(p)&&"number"==typeof p[0])?t.type||_(e,p,c.type):t.type||c.type;if(a===e.TEXTURE_CUBE_MAP)for(var m=0;m<6;++m)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,u,s,n,o,0,l,i,null);else e.texImage2D(a,u,s,n,o,0,l,i,null)},r.canGenerateMipmap=h,r.canFilter=g,r.getNumComponentsForFormat=function(e){var r=p[e];if(!r)throw"unknown format: "+e;return r.numColorComponents},r.getBytesPerElementForInternalFormat=v,r.getFormatAndTypeForInternalFormat=b;var n=i(t(/*! ./utils.js */"./src/utils.js")),o=i(t(/*! ./typedarrays.js */"./src/typedarrays.js")),a=i(t(/*! ./helper.js */"./src/helper.js"));function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var u={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},f=o.isArrayBuffer,s="undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null,c=6407,l=33319,p={},m=p;m[6406]={numColorComponents:1},m[6409]={numColorComponents:1},m[6410]={numColorComponents:2},m[c]={numColorComponents:3},m[6408]={numColorComponents:4},m[6403]={numColorComponents:1},m[36244]={numColorComponents:1},m[l]={numColorComponents:2},m[33320]={numColorComponents:2},m[c]={numColorComponents:3},m[36248]={numColorComponents:3},m[6408]={numColorComponents:4},m[36249]={numColorComponents:4},m[6402]={numColorComponents:1},m[34041]={numColorComponents:2};var d={},y=d;function v(e,r){var t=d[e];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function b(e){var r=d[e];if(!r)throw"unknown internal format";return{format:r.textureFormat,type:r.type[0]}}function E(e){return 0==(e&e-1)}function h(e,r,t,o){if(!n.isWebGL2(e))return E(r)&&E(t);var a=d[o];if(!a)throw"unknown internal format";return a.colorRenderable&&a.textureFilterable}function g(e){var r=d[e];if(!r)throw"unknown internal format";return r.textureFilterable}function _(e,r,t){return f(r)?o.getGLTypeForTypedArray(r):t||e.UNSIGNED_BYTE}function A(e,r,t,n,o){if(o%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=o/n)%1)throw"can't guess dimensions"}else if((n=o/t)%1)throw"can't guess dimensions"}else{var a=Math.sqrt(o/(r===e.TEXTURE_CUBE_MAP?6:1));a%1==0?(t=a,n=a):(t=o,n=1)}return{width:t,height:n}}function T(e){u.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}y[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},y[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},y[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},y[c]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},y[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},y[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},y[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},y[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},y[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},y[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},y[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},y[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},y[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},y[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},y[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},y[33323]={textureFormat:l,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},y[36757]={textureFormat:l,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},y[33327]={textureFormat:l,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},y[33328]={textureFormat:l,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},y[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},y[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},y[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},y[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},y[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},y[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},y[32849]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},y[35905]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},y[36194]={textureFormat:c,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},y[36758]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},y[35898]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},y[35901]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},y[34843]={textureFormat:c,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},y[34837]={textureFormat:c,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},y[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},y[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},y[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},y[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},y[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},y[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},y[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},y[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},y[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},y[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},y[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},y[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},y[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},y[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},y[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},y[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},y[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},y[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},y[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},y[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},y[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},y[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},y[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},y[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},y[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},y[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(y).forEach(function(e){var r=y[e];r.bytesPerElementMap={},r.bytesPerElement.forEach(function(e,t){var n=r.type[t];r.bytesPerElementMap[n]=e})});var x={};function R(e,r){void 0!==r.colorspaceConversion&&(x.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.colorspaceConversion)),void 0!==r.premultiplyAlpha&&(x.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha)),void 0!==r.flipY&&(x.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY))}function P(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,x.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,x.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,x.flipY)}function F(e){x.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),n.isWebGL2(e)&&(x.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),x.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),x.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),x.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),x.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function w(e){e.pixelStorei(e.UNPACK_ALIGNMENT,x.unpackAlignment),n.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,x.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,x.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,x.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,x.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,x.unpackSkipImages))}function C(e,r,t,n){n.minMag&&(t.call(e,r,e.TEXTURE_MIN_FILTER,n.minMag),t.call(e,r,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(e,r,e.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(e,r,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(e,r,e.TEXTURE_WRAP_S,n.wrap),t.call(e,r,e.TEXTURE_WRAP_T,n.wrap),(r===e.TEXTURE_3D||a.isSampler(e,r))&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(e,r,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(e,r,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(e,r,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(e,r,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(e,r,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(e,r,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function U(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r),C(e,n,e.texParameteri,t)}function O(e,r,t){C(e,r,e.samplerParameteri,t)}function B(e,r){var t=e.createSampler();return O(e,t,r),t}function I(e,r,t,n,o,a,i){t=t||u.textureOptions,a=a||e.RGBA,i=i||e.UNSIGNED_BYTE;var f=t.target||e.TEXTURE_2D;if(n=n||t.width,o=o||t.height,e.bindTexture(f,r),h(e,n,o,a))e.generateMipmap(f);else{var s=g(a)?e.LINEAR:e.NEAREST;e.texParameteri(f,e.TEXTURE_MIN_FILTER,s),e.texParameteri(f,e.TEXTURE_MAG_FILTER,s),e.texParameteri(f,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(f,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function S(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function M(e,r){return(r=r||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function j(e,r){var t=M(e,r).map(function(e,r){return{face:e,ndx:r}});return t.sort(function(e,r){return e.face-r.face}),t}function D(e,r,t,n){var o=(n=n||u.textureOptions).target||e.TEXTURE_2D,a=n.level||0,i=t.width,f=t.height,c=n.internalFormat||n.format||e.RGBA,l=b(c),p=n.format||l.format,m=n.type||l.type;if(R(e,n),e.bindTexture(o,r),o===e.TEXTURE_CUBE_MAP){var d,y,v=t.width,E=t.height;if(v/6===E)d=E,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(E/6===v)d=v,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(v/3==E/2)d=v/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(v/2!=E/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);d=v/2,y=[0,0,1,0,0,1,1,1,0,2,1,2]}s?(s.canvas.width=d,s.canvas.height=d,i=d,f=d,j(e,n).forEach(function(r){var n=y[2*r.ndx+0]*d,o=y[2*r.ndx+1]*d;s.drawImage(t,n,o,d,d,0,0,d,d),e.texImage2D(r.face,a,c,p,m,s.canvas)}),s.canvas.width=1,s.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=d,f=d,j(e,n).forEach(function(u){var s=y[2*u.ndx+0]*d,l=y[2*u.ndx+1]*d;e.texImage2D(u.face,a,c,d,d,0,p,m,null),createImageBitmap(t,s,l,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(t){R(e,n),e.bindTexture(o,r),e.texImage2D(u.face,a,c,p,m,t),P(e,n),S(n)&&I(e,r,n,i,f,c,m)})}))}else if(o===e.TEXTURE_3D||o===e.TEXTURE_2D_ARRAY){var h=Math.min(t.width,t.height),g=Math.max(t.width,t.height),_=g/h;if(_%1!=0)throw"can not compute 3D dimensions of element";var A=t.width===g?1:0,T=t.height===g?1:0;F(e),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.pixelStorei(e.UNPACK_ROW_LENGTH,t.width),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.texImage3D(o,a,c,h,h,h,0,p,m,null);for(var x=0;x<_;++x){var C=x*h*A,O=x*h*T;e.pixelStorei(e.UNPACK_SKIP_PIXELS,C),e.pixelStorei(e.UNPACK_SKIP_ROWS,O),e.texSubImage3D(o,a,0,0,x,h,h,1,p,m,t)}w(e)}else e.texImage2D(o,a,c,p,m,t);P(e,n),S(n)&&I(e,r,n,i,f,c,m),U(e,r,n)}function L(){}function N(e,r){return void 0!==r||function(e){if("undefined"!=typeof document){var r=document.createElement("a");return r.href=e,r.hostname===location.hostname&&r.port===location.port&&r.protocol===location.protocol}var t=new URL(location.href).origin;return new URL(e,location.href).origin===t}(e)?r:"anonymous"}function k(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function X(e,r,t){return k(e)?(setTimeout(function(){t(null,e)}),e):function(e,r,t){var n;if(t=t||L,r=void 0!==r?r:u.crossOrigin,r=N(e,r),"undefined"!=typeof Image){n=new Image,void 0!==r&&(n.crossOrigin=r);var o=function(){n.removeEventListener("error",i),n.removeEventListener("load",f),n=null},i=function(){var r="couldn't load image: "+e;a.error(r),t(r,n),o()},f=function(){t(null,n),o()};return n.addEventListener("error",i),n.addEventListener("load",f),n.src=e,n}if("undefined"!=typeof ImageBitmap){var s,c,l=function(){t(s,c)},p={};r&&(p.mode="cors"),fetch(e,p).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){c=e,setTimeout(l)}).catch(function(e){s=e,setTimeout(l)}),n=null}return n}(e,r,t)}function G(e,r,t){var n=(t=t||u.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(n,r),!1!==t.color){var o=function(e){return e=e||u.textureColor,f(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(t.color);if(n===e.TEXTURE_CUBE_MAP)for(var a=0;a<6;++a)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o)}}function z(e,r,t,n){return n=n||L,t=t||u.textureOptions,G(e,r,t),X((t=Object.assign({},t)).src,t.crossOrigin,function(o,a){o?n(o,r,a):(D(e,r,a,t),n(null,r,a))})}function V(e,r,t,n){n=n||L;var o=t.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";var a=t.level||0,i=t.internalFormat||t.format||e.RGBA,u=b(i),f=t.format||u.format,s=t.type||e.UNSIGNED_BYTE,c=t.target||e.TEXTURE_2D;if(c!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";G(e,r,t),t=Object.assign({},t);var l,p=6,m=[],d=M(e,t);l=o.map(function(o,u){return X(o,t.crossOrigin,(y=d[u],function(o,u){--p,o?m.push(o):u.width!==u.height?m.push("cubemap face img is not a square: "+u.src):(R(e,t),e.bindTexture(c,r),5===p?M(e).forEach(function(r){e.texImage2D(r,a,i,f,s,u)}):e.texImage2D(y,a,i,f,s,u),P(e,t),S(t)&&e.generateMipmap(c)),0===p&&n(m.length?m:void 0,r,l)}));var y})}function Y(e,r,t,n){n=n||L;var o=t.src,a=t.internalFormat||t.format||e.RGBA,i=b(a),u=t.format||i.format,f=t.type||e.UNSIGNED_BYTE,c=t.target||e.TEXTURE_2D_ARRAY;if(c!==e.TEXTURE_3D&&c!==e.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";G(e,r,t),t=Object.assign({},t);var l,p=o.length,m=[],d=t.level||0,y=t.width,v=t.height,E=o.length,h=!0;l=o.map(function(o,i){return X(o,t.crossOrigin,(b=i,function(o,i){if(--p,o)m.push(o);else{if(R(e,t),e.bindTexture(c,r),h){h=!1,y=t.width||i.width,v=t.height||i.height,e.texImage3D(c,d,a,y,v,E,0,u,f,null);for(var g=0;g<E;++g)e.texSubImage3D(c,d,0,0,g,y,v,1,u,f,i)}else{var _=i;i.width===y&&i.height===v||(_=s.canvas,s.canvas.width=y,s.canvas.height=v,s.drawImage(i,0,0,y,v)),e.texSubImage3D(c,d,0,0,b,y,v,1,u,f,_),_===s.canvas&&(s.canvas.width=0,s.canvas.height=0)}P(e,t),S(t)&&e.generateMipmap(c)}0===p&&n(m.length?m:void 0,r,l)}));var b})}function W(e,r,t,a){var i=(a=a||u.textureOptions).target||e.TEXTURE_2D;e.bindTexture(i,r);var s=a.width,c=a.height,l=a.depth,p=a.level||0,m=a.internalFormat||a.format||e.RGBA,d=b(m),y=a.format||d.format,E=a.type||_(e,t,d.type);if(f(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{var h=o.getTypedArrayTypeForGLType(E);t=new h(t)}var g,T=v(m,E),x=t.byteLength/T;if(x%1)throw"length wrong size for format: "+n.glEnumToString(e,y);if(i===e.TEXTURE_3D)if(s||c||l)!s||c&&l?!c||s&&l?(g=A(e,i,s,c,x/l),s=g.width,c=g.height):(g=A(e,i,s,l,x/c),s=g.width,l=g.height):(g=A(e,i,c,l,x/s),c=g.width,l=g.height);else{var C=Math.cbrt(x);if(C%1!=0)throw"can't guess cube size of array of numElements: "+x;s=C,c=C,l=C}else g=A(e,i,s,c,x),s=g.width,c=g.height;if(F(e),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment||1),R(e,a),i===e.TEXTURE_CUBE_MAP){var U=x/6*(T/t.BYTES_PER_ELEMENT);j(e,a).forEach(function(r){var n=U*r.ndx,o=t.subarray(n,n+U);e.texImage2D(r.face,p,m,s,c,0,y,E,o)})}else i===e.TEXTURE_3D?e.texImage3D(i,p,m,s,c,l,0,y,E,t):e.texImage2D(i,p,m,s,c,0,y,E,t);return P(e,a),w(e),{width:s,height:c,depth:l,type:E}}function K(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r);var o=t.level||0,a=t.internalFormat||t.format||e.RGBA,i=b(a),u=t.format||i.format,f=t.type||i.type;if(R(e,t),n===e.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,o,a,t.width,t.height,0,u,f,null);else n===e.TEXTURE_3D?e.texImage3D(n,o,a,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(n,o,a,t.width,t.height,0,u,f,null);P(e,t)}function H(e,r,t){t=t||L,r=r||u.textureOptions;var n=e.createTexture(),o=r.target||e.TEXTURE_2D,a=r.width||1,i=r.height||1,s=r.internalFormat||e.RGBA,c=b(s),l=r.type||c.type;e.bindTexture(o,n),o===e.TEXTURE_CUBE_MAP&&(e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var p=r.src;if(p)if("function"==typeof p&&(p=p(e,r)),"string"==typeof p)z(e,n,r,t);else if(f(p)||Array.isArray(p)&&("number"==typeof p[0]||Array.isArray(p[0])||f(p[0]))){var m=W(e,n,p,r);a=m.width,i=m.height,l=m.type}else if(Array.isArray(p)&&("string"==typeof p[0]||k(p[0])))o===e.TEXTURE_CUBE_MAP?V(e,n,r,t):Y(e,n,r,t);else{if(!k(p))throw"unsupported src type";D(e,n,p,r),a=p.width,i=p.height}else K(e,n,r);return S(r)&&I(e,n,r,a,i,s,l),U(e,n,r),n}},"./src/twgl-full.js":
/*!**************************!*\
  !*** ./src/twgl-full.js ***!
  \**************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0;var n={m4:!0,v3:!0,primitives:!0};r.primitives=r.v3=r.m4=void 0;var o=f(t(/*! ./m4.js */"./src/m4.js"));r.m4=o;var a=f(t(/*! ./v3.js */"./src/v3.js"));r.v3=a;var i=f(t(/*! ./primitives.js */"./src/primitives.js"));r.primitives=i;var u=t(/*! ./twgl.js */"./src/twgl.js");function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))})},"./src/twgl.js":
/*!*********************!*\
  !*** ./src/twgl.js ***!
  \*********************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0;var n={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};r.addExtensionsToContext=E,r.getContext=function(e,r){return function(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=e.getContext(t[o],r)){d.addExtensionsToContext&&E(n);break}return n}(e,r)},r.getWebGLContext=function(e,r){return function(e,r){for(var t=["webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=e.getContext(t[o],r)){d.addExtensionsToContext&&E(n);break}return n}(e,r)},r.resizeCanvasToDisplaySize=function(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;if(e.width!==t||e.height!==n)return e.width=t,e.height=n,!0;return!1},r.setDefaults=function(e){i.copyExistingProperties(e,d),o.setAttributeDefaults_(e),a.setTextureDefaults_(e)};var o=m(t(/*! ./attributes.js */"./src/attributes.js"));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=o[e]))});var a=m(t(/*! ./textures.js */"./src/textures.js"));Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=a[e]))});var i=m(t(/*! ./helper.js */"./src/helper.js")),u=m(t(/*! ./utils.js */"./src/utils.js"));Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))});var f=t(/*! ./draw.js */"./src/draw.js");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=f[e]))});var s=t(/*! ./framebuffers.js */"./src/framebuffers.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=s[e]))});var c=t(/*! ./programs.js */"./src/programs.js");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=c[e]))});var l=t(/*! ./typedarrays.js */"./src/typedarrays.js");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=l[e]))});var p=t(/*! ./vertex-arrays.js */"./src/vertex-arrays.js");function m(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=p[e]))});var d={addExtensionsToContext:!0};var y=/^(.*?)_/;function v(e,r){u.glEnumToString(e,0);var t=e.getExtension(r);if(t){var n={},o=y.exec(r)[1],a="_"+o;for(var f in t){var s=t[f],c="function"==typeof s,l=c?o:a,p=f;f.endsWith(l)&&(p=f.substring(0,f.length-l.length)),void 0!==e[p]?c||e[p]===s||i.warn(p,e[p],s,f):c?e[p]=function(e){return function(){return e.apply(t,arguments)}}(s):(e[p]=s,n[p]=s)}n.constructor={name:t.constructor.name},u.glEnumToString(n,0)}return t}var b=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function E(e){for(var r=0;r<b.length;++r)v(e,b[r])}},"./src/typedarrays.js":
/*!****************************!*\
  !*** ./src/typedarrays.js ***!
  \****************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return n;if(e instanceof Uint8Array)return o;if(e instanceof Uint8ClampedArray)return o;if(e instanceof Int16Array)return a;if(e instanceof Uint16Array)return i;if(e instanceof Int32Array)return u;if(e instanceof Uint32Array)return f;if(e instanceof Float32Array)return s;throw new Error("unsupported typed array type")},r.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return n;if(e===Uint8Array)return o;if(e===Uint8ClampedArray)return o;if(e===Int16Array)return a;if(e===Uint16Array)return i;if(e===Int32Array)return u;if(e===Uint32Array)return f;if(e===Float32Array)return s;throw new Error("unsupported typed array type")},r.getTypedArrayTypeForGLType=function(e){var r=c[e];if(!r)throw new Error("unknown gl type");return r},r.isArrayBuffer=void 0;var n=5120,o=5121,a=5122,i=5123,u=5124,f=5125,s=5126,c={},l=c;l[n]=Int8Array,l[o]=Uint8Array,l[a]=Int16Array,l[i]=Uint16Array,l[u]=Int32Array,l[f]=Uint32Array,l[s]=Float32Array,l[32819]=Uint16Array,l[32820]=Uint16Array,l[33635]=Uint16Array,l[5131]=Uint16Array,l[33640]=Uint32Array,l[35899]=Uint32Array,l[35902]=Uint32Array,l[36269]=Uint32Array,l[34042]=Uint32Array;var p="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};r.isArrayBuffer=p},"./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.isWebGL1=function(e){return!e.texStorage2D},r.isWebGL2=function(e){return!!e.texStorage2D},r.glEnumToString=void 0;var n=function(){var e={},r={};return function(t,n){return function(t){var n=t.constructor.name;if(!e[n]){for(var o in t)if("number"==typeof t[o]){var a=r[t[o]];r[t[o]]=a?"".concat(a," | ").concat(o):o}e[n]=!0}}(t),r[n]||"0x"+n.toString(16)}}();r.glEnumToString=n},"./src/v3.js":
/*!*******************!*\
  !*** ./src/v3.js ***!
  \*******************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.add=function(e,r,t){return(t=t||new n(3))[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},r.copy=function(e,r){return(r=r||new n(3))[0]=e[0],r[1]=e[1],r[2]=e[2],r},r.create=function(e,r,t){var o=new n(3);e&&(o[0]=e);r&&(o[1]=r);t&&(o[2]=t);return o},r.cross=function(e,r,t){t=t||new n(3);var o=e[2]*r[0]-e[0]*r[2],a=e[0]*r[1]-e[1]*r[0];return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=o,t[2]=a,t},r.distance=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],o=e[2]-r[2];return Math.sqrt(t*t+n*n+o*o)},r.distanceSq=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],o=e[2]-r[2];return t*t+n*n+o*o},r.divide=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},r.divScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r,t},r.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},r.lerp=function(e,r,t,o){return(o=o||new n(3))[0]=e[0]+t*(r[0]-e[0]),o[1]=e[1]+t*(r[1]-e[1]),o[2]=e[2]+t*(r[2]-e[2]),o},r.lerpV=function(e,r,t,o){return(o=o||new n(3))[0]=e[0]+t[0]*(r[0]-e[0]),o[1]=e[1]+t[1]*(r[1]-e[1]),o[2]=e[2]+t[2]*(r[2]-e[2]),o},r.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},r.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},r.max=function(e,r,t){return(t=t||new n(3))[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},r.min=function(e,r,t){return(t=t||new n(3))[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},r.mulScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},r.multiply=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},r.negate=function(e,r){return(r=r||new n(3))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r},r.normalize=function(e,r){r=r||new n(3);var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=Math.sqrt(t);o>1e-5?(r[0]=e[0]/o,r[1]=e[1]/o,r[2]=e[2]/o):(r[0]=0,r[1]=0,r[2]=0);return r},r.setDefaultType=function(e){var r=n;return n=e,r},r.subtract=function(e,r,t){return(t=t||new n(3))[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t};var n=Float32Array},"./src/vertex-arrays.js":
/*!******************************!*\
  !*** ./src/vertex-arrays.js ***!
  \******************************/
/*! no static exports found */function(e,r,t){"use strict";r.__esModule=!0,r.createVertexArrayInfo=function(e,r,t){var o=e.createVertexArray();e.bindVertexArray(o),r.length||(r=[r]);return r.forEach(function(r){n.setBuffersAndAttributes(e,r,t)}),e.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:o}},r.createVAOAndSetAttributes=o,r.createVAOFromBufferInfo=function(e,r,t){return o(e,r.attribSetters||r,t.attribs,t.indices)};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t(/*! ./programs.js */"./src/programs.js"));function o(e,r,t,o){var a=e.createVertexArray();return e.bindVertexArray(a),n.setAttributes(r,t),o&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,o),e.bindVertexArray(null),a}}})},e.exports=n()},function(e,r,t){"use strict";t.r(r),r.default="attribute vec4 position;\r\n\r\nvoid main() {\r\n    gl_Position = position;\r\n}\r\n"},function(e,r,t){"use strict";t.r(r),r.default="precision mediump float;\r\n\r\nuniform vec2 resolution;\r\nuniform float layerCount;\r\nuniform float time;\r\nuniform vec3 bgColor;\r\nuniform vec3 cloudColor1;\r\nuniform vec3 cloudColor2;\r\n\r\n#define TAU 6.28318530718\r\n\r\nfloat func(float pX) {\r\n    return 0.6 * (0.5 * sin(0.1 * pX) + 0.5 * sin(0.553 * pX) + 0.7 * sin(1.2 * pX));\r\n}\r\n\r\nfloat funcR(float pX) {\r\n    return 0.5 + 0.25 * (1.0 + sin(mod(40.0 * pX, TAU)));\r\n}\r\n\r\nfloat layer(vec2 pQ, float pT) {\r\n    vec2 Qt = 3.5 * pQ;\r\n    pT *= 0.5;\r\n    Qt.x += pT;\r\n\r\n    float Xi = floor(Qt.x);\r\n    float Xf = Qt.x - Xi - 0.5;\r\n\r\n    vec2 C;\r\n    float Yi;\r\n    float D = 1.0 - step(Qt.y,  func(Qt.x));\r\n\r\n    Yi = func(Xi + 0.5);\r\n    C = vec2(Xf, Qt.y - Yi ); \r\n    D =  min(D, length(C) - funcR(Xi + pT / 80.0));\r\n\r\n    Yi = func(Xi + 1.0 + 0.5);\r\n    C = vec2(Xf - 1.0, Qt.y - Yi ); \r\n    D =  min(D, length(C) - funcR(Xi + 1.0+ pT / 80.0));\r\n\r\n    Yi = func(Xi - 1.0 + 0.5);\r\n    C = vec2(Xf + 1.0, Qt.y - Yi ); \r\n    D =  min(D, length(C) - funcR(Xi - 1.0 + pT / 80.0));\r\n\r\n    return min(1.0, D);\r\n}\r\n\r\nvoid main() {\r\n    float t = time;\r\n    vec2 UV = 2.0 * (gl_FragCoord.xy - resolution.xy / 2.0) / min(resolution.x, resolution.y);\t\r\n    \r\n    vec3 Color = bgColor;\r\n\r\n    for(float i = 0.0; i < 0.8; i += 0.1) {\r\n        if (i >= layerCount) {\r\n            break;\r\n        }\r\n\r\n        float Lt =  t * (0.5 + 2.0 * i) * (1.0 + 0.1 * sin(226.0 * i)) + 1000.0 * i;\r\n        vec2 Lp = vec2(100.0 * i, 0.8 * (i / (layerCount - 0.0999) / 0.8) - 0.3);\r\n        float L = layer(UV + Lp, Lt);\r\n\r\n        float Blur = 4.0 * (0.5 * abs(2.0 - 5.0 * i)) / (11.0 - 5.0 * i);\r\n\r\n        float V = mix(0.0, 1.0, 1.0 - smoothstep(0.0, 0.01 + 0.2 * Blur, L));\r\n        vec3 Lc = mix(cloudColor1, cloudColor2, i / (layerCount - 0.0999) / 0.8);\r\n\r\n        Color = mix(Color, Lc,  V);\r\n    }\r\n\r\n    gl_FragColor = vec4(Color, 1.0);\r\n}\r\n"}])});
//# sourceMappingURL=klouds.min.js.map